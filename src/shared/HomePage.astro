---
import MVV from "../components/MVV.astro";
import FacilitatorList from "../components/FacilitatorList.astro";
import HeroLinks from "../components/HeroLinks.astro";
import RootLayout from "../layouts/RootLayout.astro";
import { getImage } from "astro:assets";
import { useTranslations } from "../i18n/utils";

interface Props {
  lang: "ro" | "en";
}

const { lang } = Astro.props;
const t = useTranslations(lang);

import heroImage from "/src/assets/new-design/portrait_homepage.jpg";
import heroDesktopImage from "/src/assets/new-design/landscape_homepage.jpg";
const optimizedHeroImage = await getImage({ src: heroImage });
const optimizedHeroDesktopImage = await getImage({ src: heroDesktopImage });

const pageTitle = "Harmonia";

// All content now comes from translations
---

<RootLayout title={pageTitle} lang={lang}>
  <section
    class="relative hero-section h-[calc(100vh-7rem)] flex flex-col items-center justify-end text-center bg-cover bg-center lg:hidden"
    style={`background-image: url('${optimizedHeroImage.src}')`}
  >
    <HeroLinks lang={lang} class="mb-32" />
  </section>
  <section
    class="relative hero-section h-[calc(100vh-7rem)] flex flex-col items-center justify-end text-center bg-cover bg-center max-lg:hidden"
    style={`background-image: url('${optimizedHeroDesktopImage.src}')`}
  >
    <HeroLinks lang={lang} class="mb-32" />
  </section>

  <section
    class="container mx-auto py-24 flex flex-col items-center justify-center gap-10"
  >
    <div class="flex flex-col items-center justify-center max-w-lg">
      <MVV
        class="fill-primary"
        title={t("home.mission.title")}
        description={t("home.mission.description")}
      />
    </div>
    <div class="flex flex-col items-center justify-center max-w-lg">
      <MVV
        class="fill-primary"
        title={t("home.values.title")}
        description={t("home.values.description")}
        descriptionSecond={t("home.values.descriptionSecond")}
        descriptionThird={t("home.values.descriptionThird")}
        appearsFromRight
      />
    </div>
    <div class="flex flex-col items-center justify-center max-w-lg">
      <MVV
        class="fill-primary"
        title={t("home.vision.title")}
        description={t("home.vision.description")}
      />
    </div>
  </section>

  <section
    class="flex flex-col items-center justify-center bg-secondary py-24 text-light"
  >
    <h1 class="text-6xl" transition:name="facilitators-title">
      {t("facilitators.title")}
    </h1>
    <div class="flex flex-col items-center justify-center gap-10 py-16 px-4">
      <FacilitatorList displayCount={3} lang={lang} />
    </div>

    <div class="flex flex-col items-center justify-center gap-10">
      <button
        data-aos="flip-up"
        class="css-animation bg-light text-primary uppercase px-4 py-2 rounded-full w-60 h-12 hover:text-light hover:bg-primary"
      >
        <a href={`/${lang}/facilitators`}>{t("facilitators.seeAll")}</a>
      </button>
    </div>
  </section>
</RootLayout>
