---
import MVV from "../components/MVV.astro";
import FacilitatorList from "../components/FacilitatorList.astro";
import RootLayout from "../layouts/RootLayout.astro";
import { getImage } from "astro:assets";
import heroImage from "/src/assets/hero-last.jpg";
import { useTranslations } from "../i18n/utils";

interface Props {
  lang: "ro" | "en";
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const optimizedBackgroundImage = await getImage({ src: heroImage });
const pageTitle = "Harmonia";

// All content now comes from translations
---

<RootLayout title={pageTitle} lang={lang}>
  <section
    class="relative hero-section h-[calc(100vh-8rem)] flex flex-col items-center justify-between pb-32 pt-32 text-center bg-cover bg-center"
    style={`background-image: url('${optimizedBackgroundImage.src}')`}
  >
    <h1
      class="text-4xl lg:text-6xl font-black uppercase drop-shadow relative top-[45%] md:top-[35%] w-60 md:w-96 place-self-center white-text-border-lighter"
    >
      Healing in oneness
    </h1>

    <div class="flex gap-2">
      <a
        class="bg-dark border-2 border-white bg-opacity-50 text-white uppercase px-4 py-2 rounded-full w-40 hover:bg-opacity-100 hover:bg-secondary-blue hover:text-dark hover:cursor-pointer"
        href={`/${lang}/services`}
      >
        {t("nav.services")}
      </a>
      <a
        class="bg-dark border-2 border-white bg-opacity-50 text-white uppercase px-4 py-2 rounded-full w-40 hover:bg-opacity-100 hover:bg-secondary-blue hover:text-dark hover:cursor-pointer"
        href={`/${lang}/space`}
      >
        {t("nav.space")}
      </a>
    </div>
  </section>

  <section
    class="container mx-auto py-24 flex flex-col items-center justify-center gap-10"
  >
    <div class="flex flex-col items-center justify-center max-w-lg">
      <MVV
        colorAccent="#0FCBFF"
        title={t("home.mission.title")}
        description={t("home.mission.description")}
      />
    </div>
    <div class="flex flex-col items-center justify-center max-w-lg">
      <MVV
        colorAccent="#FF969F"
        title={t("home.values.title")}
        description={t("home.values.description")}
        descriptionSecond={t("home.values.descriptionSecond")}
        descriptionThird={t("home.values.descriptionThird")}
        appearsFromRight
      />
    </div>
    <div class="flex flex-col items-center justify-center max-w-lg">
      <MVV
        colorAccent="#00C3CD"
        title={t("home.vision.title")}
        description={t("home.vision.description")}
      />
    </div>
  </section>

  <section
    class="flex flex-col items-center justify-center bg-primary py-24 text-white"
  >
    <h1 class="text-6xl" transition:name="facilitators-title">
      {t("facilitators.title")}
    </h1>
    <div class="flex flex-col items-center justify-center gap-10 py-16 px-4">
      <FacilitatorList displayCount={3} />
    </div>

    <div class="flex flex-col items-center justify-center gap-10">
      <button
        data-aos="flip-up"
        class="css-animation bg-secondary-pink text-primary uppercase px-4 py-2 rounded-full w-60 h-12 hover:bg-opacity-100 hover:bg-secondary-blue"
      >
        <a href={`/${lang}/facilitators`}>{t("facilitators.seeAll")}</a>
      </button>
    </div>
  </section>
</RootLayout>
